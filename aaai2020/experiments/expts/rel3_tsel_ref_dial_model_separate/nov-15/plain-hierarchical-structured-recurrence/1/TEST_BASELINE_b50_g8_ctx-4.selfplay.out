freq cutoff: 10
vocab size: 649
dataset data/onecommon/train_reference_1.txt, 8304 instances, total 545056, unks 4302, ratio 0.79%
dataset data/onecommon/valid_reference_1.txt, 1038 instances, total 69348, unks 686, ratio 0.99%
dataset data/onecommon/test_reference_1.txt, 1038 instances, total 67284, unks 636, ratio 0.95%
8bbaa7f92be34adc0e234d0af9465191aff9a3f3
selfplay.py --alice_model_file=expts/rel3_tsel_ref_dial_model_separate/nov-15/plain-hierarchical-structured-recurrence/1/1_ep-12.th --bob_model_file=expts/rel3_tsel_ref_dial_model_separate/nov-15/plain-hierarchical-structured-recurrence/1/1_ep-12.th --context_file=shared_4 --markable_detector_file=serialized_models/markable_detector_with_dict_1.th --verbose --num_contexts 200 --language_rerank --next_mention_reranking --language_beam_keep_all_finished --reranking_confidence --language_beam_size 50 --next_mention_reranking_k 16 --next_mention_reranking_max_mentions 4 --log_file=expts/rel3_tsel_ref_dial_model_separate/nov-15/plain-hierarchical-structured-recurrence/1/TEST_BASELINE_b50_g8_ctx-4.selfplay.log
{'DBG_GEN': False,
 'DBG_PLAN': '',
 'absolute_bucketing': 1,
 'alice_forward_model_file': None,
 'alice_model_file': 'expts/rel3_tsel_ref_dial_model_separate/nov-15/plain-hierarchical-structured-recurrence/1/1_ep-12.th',
 'belief': 'or',
 'belief_alice': False,
 'belief_bob': False,
 'belief_entropy_threshold': 2.0,
 'belief_threshold': 0.8,
 'bob_model_file': 'expts/rel3_tsel_ref_dial_model_separate/nov-15/plain-hierarchical-structured-recurrence/1/1_ep-12.th',
 'bsz': 16,
 'context_file': 'shared_4',
 'contiguity_coef': 0,
 'cuda': False,
 'data': 'data/onecommon',
 'dialog_log_dir': 'analysis_log',
 'diameter_coef': 0,
 'domain': 'one_common',
 'eps': 0.0,
 'language_beam_keep_all_finished': True,
 'language_beam_size': 50,
 'language_inference': 'forgetful_noised_beam',
 'language_rerank': True,
 'language_rerank_weight': 0.999,
 'language_sample_temperature': 0.25,
 'length_coef': 0,
 'log_attention': False,
 'log_file': 'expts/rel3_tsel_ref_dial_model_separate/nov-15/plain-hierarchical-structured-recurrence/1/TEST_BASELINE_b50_g8_ctx-4.selfplay.log',
 'markable_detector_file': 'serialized_models/markable_detector_with_dict_1.th',
 'markables_file': 'selfplay_markables.json',
 'max_sentences': 20,
 'max_turns': 20,
 'must_contain': None,
 'next_mention_candidate_generation': 'topk',
 'next_mention_reranking': True,
 'next_mention_reranking_k': 16,
 'next_mention_reranking_max_mentions': 4,
 'next_mention_reranking_score': 'log_max_probability',
 'next_mention_reranking_use_stop_scores': False,
 'next_mention_reranking_weight': 0,
 'num_color_buckets': 5,
 'num_contexts': 200,
 'num_size_buckets': 5,
 'plot_metrics': False,
 'record_markables': False,
 'ref_text': None,
 'referents_file': 'selfplay_referents.json',
 'repeat_selfplay': False,
 'reranking_confidence': True,
 'reranking_confidence_exp_score_threshold': 0.8,
 'reranking_confidence_score': 'joint',
 'reranking_confidence_type': 'first_above_threshold',
 'rollout_bsz': 3,
 'rollout_count_threshold': 3,
 'rollout_model_file': '',
 'seed': 1,
 'select_config_size': 3,
 'selection_model_file': '',
 'smart_alice': False,
 'smart_bob': False,
 'symbolic': False,
 'unk_threshold': 10,
 'verbose': True,
 'visual': False}
overwriting key bsz with value 8 with value 16
overwriting key cuda with value True with value False
overwriting key bsz with value 8 with value 16
overwriting key cuda with value True with value False
100: dialog_len=3.24 sent_len=14.54 agree=64.00% moving_agree=64.00% advantage=0.00 moving_advantage=0.00 time=36.137s comb_rew=1.28 agree_comb_rew=1.97 alice_rew=0.64 alice_moving_rew=0.64 agree_alice_rew=0.98 alice_make_sel=49.00% alice_unique=160 alice_ref_resolution_score=-0.08 alice_language_model_score=-17.69 alice_joint_score=-0.10 bob_rew=0.64 bob_moving_rew=0.64 agree_bob_rew=0.98 bob_make_sel=51.00% bob_unique=160 bob_ref_resolution_score=-10101010.43 bob_language_model_score=-16.05 bob_joint_score=-0.78
